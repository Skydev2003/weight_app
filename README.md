# แอปเครื่องชั่ง USB (Weight Scale App)

แอปพลิเคชัน Flutter สำหรับอ่านค่าน้ำหนักจากเครื่องชั่งผ่าน USB Serial (CH340)

## คุณสมบัติ

- ✅ เชื่อมต่อกับเครื่องชั่งผ่าน USB Serial (CH340)
- ✅ แสดงน้ำหนักแบบ real-time
- ✅ รองรับรูปแบบข้อมูลจากเครื่องชั่งหลายแบบ
- ✅ แสดงสถานะการเชื่อมต่อ

## วิธีใช้งาน

### 1. ติดตั้งและรันแอป

```bash
flutter pub get
flutter run
```

### 2. เชื่อมต่อเครื่องชั่ง

1. เสียบสาย USB จากเครื่องชั่งเข้ากับอุปกรณ์ Android
2. แอปจะขออนุญาตเข้าถึง USB device
3. กดอนุญาต (Allow)
4. แอปจะเริ่มแสดงน้ำหนักอัตโนมัติ

### 3. ตรวจสอบ Debug Log (ถ้ามีปัญหา)

รันไฟล์ `check_usb_log.bat` เพื่อดู log การทำงานของ USB:

```bash
check_usb_log.bat
```

## รูปแบบข้อมูลที่รองรับ

แอปสามารถอ่านข้อมูลจากเครื่องชั่งได้หลายรูปแบบ:
- `ST,GS,+000.000kg`
- `+12.345`
- `123.456 kg`
- `12 kg`

## การตั้งค่า Serial

- Baud Rate: 9600
- Data Bits: 8
- Parity: None
- Stop Bits: 1

## USB Chip ที่รองรับ

- CH340 (VID: 0x1A86)
  - PID: 0x7523
  - PID: 0x7522
  - PID: 0x5523

## การแก้ปัญหา

### ไม่พบเครื่องชั่ง
1. ตรวจสอบว่าสาย USB เสียบแน่นหรือไม่
2. ตรวจสอบว่าอนุญาตให้แอปเข้าถึง USB แล้วหรือไม่
3. ลองถอดและเสียบสาย USB ใหม่
4. รัน `check_usb_log.bat` เพื่อดู log

### ข้อมูลไม่แสดง
1. ตรวจสอบว่าเครื่องชั่งเปิดอยู่หรือไม่
2. ตรวจสอบว่ามีน้ำหนักบนเครื่องชั่งหรือไม่
3. ดู log เพื่อตรวจสอบรูปแบบข้อมูลที่เครื่องชั่งส่งมา
